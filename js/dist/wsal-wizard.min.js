jQuery(document).ready(function(){function e(){const e=jQuery(this).parents("span:first");e.addClass("sectoken-del").fadeOut("fast",function(){e.remove()})}jQuery("#editor-users-add, #editor-roles-add, #exuser-query-add, #exrole-query-add, #ipaddr-query-add").click(function(){const r=jQuery(this).attr("id").substr(0,6),t=jQuery(this).attr("id").substr(7,5),s=jQuery.trim(jQuery(`#${r}-${t}-box`).val()),a=jQuery(`#${r}-list input`).filter(function(){return this.value===s});s&&!a.length&&(jQuery(`#${r}-${t}-box, #${r}-${t}-add`).attr("disabled",!0),jQuery.ajax({type:"POST",url:wsalData.ajaxURL,async:!0,data:{action:"setup_check_security_token",token:s,nonce:wsalData.nonce},dataType:"json",success:function(s){if(jQuery(`#${r}-${t}-box, #${r}-${t}-add`).removeAttr("disabled"),jQuery(`#${r}-${t}-box`).val(""),s.success){if("other"===s.tokenType&&("users"===t||"exuser"===r))return void alert(wsalData.usersError);if("other"===s.tokenType&&("roles"===t||"exrole"===r))return void alert(wsalData.rolesError);if("other"===s.tokenType&&("ip"===t||"ipaddr"===r))return void alert(wsalData.ipError);jQuery(`#${r}-list`).append(jQuery(`<span class="sectoken-${s.tokenType}"/>`).text(s.token).append(jQuery(`<input type="hidden" name="${r}s[]"/>`).val(s.token),jQuery('<a href="javascript:;" title="Remove">&times;</a>').click(e)))}else alert(s.message)},error:function(e,r,t){console.log(e.statusText),console.log(r),console.log(t)}}))}),jQuery("#editor-users-box, #editor-roles-box, #exuser-query-box, #exrole-query-box, #ipaddr-query-box").keydown(function(e){if(13===e.keyCode){const e=jQuery(this).attr("id").substr(0,6),r=jQuery(this).attr("id").substr(7,5);return jQuery(`#${e}-${r}-add`).click(),!1}}),jQuery("#editor-list>span>a, #exuser-list>span>a, #exrole-list>span>a, #ipaddr-list>span>a").click(e)});